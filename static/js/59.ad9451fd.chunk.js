"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[59],{3059:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var a=n(2791),r=n(9434),s=n(6916),c=function(e){return e.contacts.items},l=function(e){return e.filter},o=(0,s.P1)([c,l],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),i=n(6713),d=function(){var e=(0,r.v9)(c),t=(0,r.v9)(l),n=(0,r.v9)(o),s=(0,r.I0)();return{contacts:e,filter:t,filteredContacts:n,fetchContacts:(0,a.useCallback)((function(){return s(i.yF())}),[s]),addContact:function(e){var t=e.name,n=e.number;return s(i.uK({name:t,number:n}))},deleteContact:function(e){return s(i.GK(e))},editContact:function(e,t){return s(i.mP({contactId:e,editedContact:t}))}}},u=n(1686),m=n(3329),p={position:"left-top",distance:"50px",fontSize:"18px",width:"300px",cssAnimationStyle:"zoom",cssAnimationDuration:1e3},h=function(){var e=d(),t=e.contacts,n=e.addContact,a=function(e){return t.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,r=t.elements.name.value,s=t.elements.phone.value;if(a(r))return u.Notify.info("".concat(r," is already in contacts."),p),void t.reset();n({name:r,number:s}),t.reset()},className:"form-primary",children:[(0,m.jsxs)("label",{className:"label-space-between",children:["Name*:",(0,m.jsx)("input",{type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:"input-primary"})]}),(0,m.jsxs)("label",{className:"label-space-between",children:["Number*:",(0,m.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:"input-primary"})]}),(0,m.jsx)("button",{type:"submit",className:"btn-primary",children:"Add contact"})]})},f=n(8030),b=n(9439),x=n(1413),j=n(4925),N=function(e){var t=e.closeModal,n=e.id,a=e.name,r=e.number,s=d().editContact;return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={name:e.target.name.value,number:e.target.phone.value};s(n,a),t()},className:"flex flex-col rounded bg-white p-5",children:[(0,m.jsxs)("label",{className:"label-space-between",children:["Name:",(0,m.jsx)("input",{type:"text",name:"name",defaultValue:a,placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:"input-primary"})]}),(0,m.jsxs)("label",{className:"label-space-between",children:["Number:",(0,m.jsx)("input",{type:"tel",name:"phone",defaultValue:r,placeholder:"Phone",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:"input-primary"})]}),(0,m.jsxs)("div",{className:"ml-auto w-fit",children:[(0,m.jsx)("button",{type:"submit",className:"btn-secondary mr-5",children:"Save"}),(0,m.jsx)("button",{type:"button",onClick:t,className:"btn-secondary",children:"Close"})]})]})},v=["closeModal"],y=function(e){var t=e.closeModal,n=(0,j.Z)(e,v);(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]);return(0,m.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t()},className:"fixed left-0 top-0 z-50 flex h-screen w-screen items-center justify-center bg-backdrop-color",children:(0,m.jsx)("div",{className:"max-h-full max-w-full",children:(0,m.jsx)(N,(0,x.Z)({closeModal:t},n))})})},C=function(e){var t=e.id,n=e.name,r=e.number,s=e.serialNumber,c=(0,a.useState)(!1),l=(0,b.Z)(c,2),o=l[0],i=l[1],u=d().deleteContact;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"mb-5 flex items-center",children:[(0,m.jsx)("span",{className:"mr-2.5 inline-flex rounded-full bg-violet-500 px-2.5 py-0.5 text-white",children:s}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{className:"text-gray-500",children:["Name: ",(0,m.jsx)("span",{className:"text-black",children:n})]}),(0,m.jsxs)("p",{className:"text-gray-500",children:["Phone: ",(0,m.jsx)("span",{className:"text-black",children:r})]})]})]}),(0,m.jsxs)("div",{className:"ml-auto w-fit",children:[(0,m.jsx)("button",{type:"button",onClick:function(){u(t)},className:"btn-secondary mr-5",children:"Delete"}),(0,m.jsx)("button",{type:"button",onClick:function(e){i(!0),e.target.blur()},className:"btn-secondary",children:"Edit"})]}),o&&(0,m.jsx)(y,{closeModal:function(){return i(!1)},id:t,name:n,number:r})]})},w=function(){var e=d().filteredContacts,t=(0,f.O)().error;return(0,m.jsx)(m.Fragment,{children:t?(0,m.jsx)("p",{children:t}):e.length>0&&(0,m.jsx)("ul",{className:"grid grid-cols-2 gap-5",children:e.map((function(e,t){var n=e.id,a=e.name,r=e.number;return(0,m.jsx)("li",{className:"block rounded p-5 shadow-custom-shadow",children:(0,m.jsx)(C,{id:n,name:a,number:r,serialNumber:t+1})},n)}))})})},g=n(3782),k=function(){var e=(0,r.I0)(),t=d().filter;return(0,m.jsxs)("label",{className:"mb-5 inline-block",children:["Find contacts by name:",(0,m.jsx)("br",{}),(0,m.jsx)("input",{type:"text",value:t,placeholder:"Name",onChange:function(t){var n=t.target.value;e((0,g.xO)(n))},className:"rounded border border-black hover:border-violet-500 focus:outline-violet-500"})]})},A=function(){var e=d().fetchContacts;return(0,a.useEffect)((function(){e()}),[e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{className:"mb-5 text-center text-xl font-semibold",children:"Phonebook"}),(0,m.jsx)(h,{}),(0,m.jsx)("h2",{className:"mb-5 text-xl font-semibold",children:"Contacts"}),(0,m.jsx)(k,{}),(0,m.jsx)(w,{})]})}}}]);
//# sourceMappingURL=59.ad9451fd.chunk.js.map